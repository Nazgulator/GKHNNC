@{Layout = "~/Views/Shared/_Layout0.cshtml"; }
<table class="table table-striped table-bordered">
    <tbody>
        @using (Html.BeginForm("OtchetMonth", "Ezdkas", FormMethod.Post))
        {
            <tr style="height:20Px">

                <td><h5><CENTER><b>АВТОМОБИЛЬ</b></CENTER></h5></td>
                <td><h5><CENTER><b>МЕСЯЦ</b></CENTER></h5></td>
                <td><p><CENTER><b>ГОД</b></CENTER></p></td>
                <td><p><CENTER><b>ГЛОНАСС</b></CENTER></p></td>


            </tr>


            <tr>

                <td>
                    @Html.DropDownList("Avtomobils", new SelectList(ViewBag.Avtomobils, "value", "text"), new { @class = "form-control" })
                </td>

                <td>


                    @Html.DropDownList("Month", new SelectList(ViewBag.Month, "value", "text"), new { @class = "form-control" })
                </td>

                <td>

                    @Html.DropDownList("Year", new SelectList(ViewBag.Year, "value", "text"), new { @class = "form-control" })
                </td>
                <td>

                    <input type="checkbox" class="form-control" id="GLONASS" checked="checked">
                    <label for="GLONASS" data-on-text="On" data-off-text="Off"></label>


                </td>

            </tr>

        }
    </tbody>
</table>

@section Scripts {

    @Scripts.Render("~/scripts/jquery-3.3.1.min.js")
    @Scripts.Render("~/scripts/jquery-ui-1.12.1.min.js")
    @Scripts.Render("~/scripts/nprogress.min.js")
    @Scripts.Render("~/scripts/jquery.signalR-2.4.0.min.js")
    @Scripts.Render("~/signalr/hubs")










    <script>
        //скрипт для обработки выбора года чтоб выводить ездки по году и месяцу
                        $('#Year').change(function () {
                            var _this = $(this);

                            var Y = $('#Year').val();//выбраное значение в селекте
                            var Avtomobil = $('#Avtomobils').val();//выбраное значение в селекте
                            var M = $('#Month').val();//выбраное значение в селекте
                            var GLO = $('#GLONASS').prop('checked');//выбраное значение в чекбоксе
                            //Avtomobil;Month;Year;GLO
                            var SV = Avtomobil + ";" + M + ";" + Y + ";" + GLO;
                            $("#Spisok").fadeOut('slow', function () {
                                $("#Spisok").load('@Url.Action("IndexOtchet", "Ezdkas")', { Selection: SV }, function () { $("#Spisok").fadeIn('fast'); });

                            });
                        });


    </script>

    <script>
        //скрипт для обработки выбора года чтоб выводить дома по году и месяцу
                        $('#Month').change(function () {
                            var _this = $(this);
                            var Y = $('#Year').val();//выбраное значение в селекте
                            var Avtomobil = $('#Avtomobils').val();//выбраное значение в селекте
                            var M = $('#Month').val();//выбраное значение в селекте
                            var GLO = $('#GLONASS').prop('checked');//выбраное значение в чекбоксе
                            //Avtomobil;Month;Year;GLO
                            var SV = Avtomobil + ";" + M + ";" + Y + ";" + GLO;
                            $("#Spisok").fadeOut('slow', function () {
                                $("#Spisok").load('@Url.Action("IndexOtchet", "Ezdkas")', { Selection: SV }, function () { $("#Spisok").fadeIn('fast'); });

                            });
                        });
    </script>
    <script>
        //скрипт для обработки выбора года чтоб выводить дома по году и месяцу
                        $('#GLONASS').change(function () {
                            var _this = $(this);
                            var Y = $('#Year').val();//выбраное значение в селекте
                            var Avtomobil = $('#Avtomobils').val();//выбраное значение в селекте
                            var M = $('#Month').val();//выбраное значение в селекте
                            var GLO = $('#GLONASS').prop('checked');//выбраное значение в чекбоксе
                            //Avtomobil;Month;Year;GLO
                            var SV = Avtomobil + ";" + M + ";" + Y + ";" + GLO;
                            $("#Spisok").fadeOut('slow', function () {
                                $("#Spisok").load('@Url.Action("IndexOtchet", "Ezdkas")', { Selection: SV }, function () { $("#Spisok").fadeIn('fast'); });

                            });
                        });
    </script>
    <script>
        //скрипт для обработки выбора года чтоб выводить дома по году и месяцу
        $('#Avtomobils').change(function () {
                            var _this = $(this);
                            var Y = $('#Year').val();//выбраное значение в селекте
                            var Avtomobil = $('#Avtomobils').val();//выбраное значение в селекте
                            var M = $('#Month').val();//выбраное значение в селекте
                            var GLO = $('#GLONASS').prop('checked');//выбраное значение в чекбоксе
                            //Avtomobil;Month;Year;GLO
                            var SV = Avtomobil + ";" + M + ";" + Y + ";" + GLO;
            $("#Spisok").fadeOut('slow', function () {
                $("#Spisok").load('@Url.Action("IndexOtchet", "Ezdkas")', { Selection: SV }, function () { $("#Spisok").fadeIn('fast'); });
            });
            });
    </script>



}

